<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–ø–æ–≤–∞ –í–∏–∫–∞. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è 5</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon-32x32.png">
    <link rel="icon" href="favicon-16x16.ico">
    <link rel="stylesheet" href="../main.css">
     <style>
        .result-box {
            border: 2px solid #333;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: Arial, sans-serif;
        }
        .positive {
            color: #28a745;
        }
        .negative {
            color: #dc3545;
        }
        .neutral {
            color: #000;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <header>
        –ù–ì–¢–£, –§–ë, –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 7
    </header>
    <main>
        <button onclick="getEuroExchangeRate()">–ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å –µ–≤—Ä–æ</button>
        <div id="result" class="result-box"></div>
        <a href="https://www.cbr-xml-daily.ru/">–ö—É—Ä—Å—ã –¶–ë –†–§ –≤ XML –∏ JSON, API</a>
    </main>
    <footer>
            &copy; –°–æ–ø–æ–≤–∞ –í–∏–∫–∞, –§–ë–ò-31, 2 –∫—É—Ä—Å, 2025
        </footer>
        <script>
        function getEuroExchangeRate() {
            const url = 'https://www.cbr-xml-daily.ru/daily_json.js';
            
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const euro = data.Valute.EUR;
                    const resultDiv = document.getElementById('result');
                    
                    // –†–∞—Å—Å—á–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã
                    const difference = euro.Value - euro.Previous;
                    const diffFormatted = difference.toFixed(4);
                    
                    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
                    const currentDate = new Date(data.Date).toLocaleDateString('ru-RU');
                    const previousDate = new Date(data.PreviousDate).toLocaleDateString('ru-RU');

                    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è –¥–ª—è —Ä–∞–∑–Ω–∏—Ü—ã
                    let diffClass = 'neutral';
                    if (difference > 0) diffClass = 'positive';
                    if (difference < 0) diffClass = 'negative';

                    // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ HTML
                    resultDiv.innerHTML = `
                        <p>–î–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞: ${currentDate}</p>
                        <p>–¢–µ–∫—É—â–∏–π –∫—É—Ä—Å: ${euro.Value.toFixed(4)} —Ä—É–±</p>
                        <p>–ü—Ä–µ–¥—ã–¥—É—â–∏–π –∫—É—Ä—Å (${previousDate}): ${euro.Previous.toFixed(4)} —Ä—É–±</p>
                        <p class="${diffClass}">–ò–∑–º–µ–Ω–µ–Ω–∏–µ: ${diffFormatted} —Ä—É–±</p>
                        ${difference > 0 ? 'ü°Ö –ö—É—Ä—Å –≤—ã—Ä–æ—Å' : difference < 0 ? 'ü°á –ö—É—Ä—Å —Å–Ω–∏–∑–∏–ª—Å—è' : '‚Äî –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π'}
                    `;
                })
                .catch(error => {
                    document.getElementById('result').innerHTML = 
                        `<p class="negative">–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö: ${error.message}</p>`;
                });
             }
         </script>
</body>
</html>